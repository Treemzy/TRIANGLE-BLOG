{"ast":null,"code":"import axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nexport const createPostComment = () => async getState => {\n  const {\n    userLogin: {\n      userInfo\n    }\n  } = getState();\n  let form_data = new FormData();\n  if (data.image_url) form_data.append(\"image\", data.image, data.image.name);\n  form_data.append(\"title\", data.title);\n  form_data.append(\"description\", data.description);\n  form_data.append(\"category\", data.category);\n  const config = {\n    headers: {\n      \"Content-type\": \"multipart/form-data\",\n      Authorization: `Bearer ${userInfo.token}`\n    }\n  };\n  const myNewModel = await axios.post(`/api/posts/create/`, form_data, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n      Authorization: `Bearer ${userInfo.token}`\n    }\n  }).then(res => {\n    return res;\n  }).catch(error => {\n    return error.response;\n  });\n\n  if (myNewModel.status === 201) {\n    window.location.href = `//api/posts/create/${myNewModel.data.id}`;\n  }\n\n  return myNewModel;\n};","map":{"version":3,"names":["axios","useDispatch","useSelector","createPostComment","getState","userLogin","userInfo","form_data","FormData","data","image_url","append","image","name","title","description","category","config","headers","Authorization","token","myNewModel","post","then","res","catch","error","response","status","window","location","href","id"],"sources":["C:/Users/Treemzy/Documents/ReactApps/ReactDjangoBlog/project/frontend/src/components/Api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nexport const createPostComment = () => async (getState)=> {\r\n    const {\r\n        userLogin: { userInfo },\r\n      } = getState();\r\n\r\n    let form_data = new FormData();\r\n    if (data.image_url)\r\n        form_data.append(\"image\", data.image, data.image.name);\r\n    form_data.append(\"title\", data.title);\r\n    form_data.append(\"description\", data.description);\r\n    form_data.append(\"category\", data.category);\r\n\r\n\r\n    \r\n    \r\n    const config = {\r\n    headers: {\r\n        \"Content-type\": \"multipart/form-data\",\r\n        Authorization: `Bearer ${userInfo.token}`,\r\n    },\r\n    };\r\n\r\n\r\n\r\n    const myNewModel = await axios\r\n        .post(`/api/posts/create/`, form_data, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }).then((res) => {\r\n            return res;\r\n        }).catch((error) => {\r\n            return error.response;\r\n        });\r\n\r\n    if (myNewModel.status === 201) {\r\n        window.location.href = `//api/posts/create/${myNewModel.data.id}`;\r\n    }\r\n    return myNewModel;\r\n   \r\n}"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,OAAO,MAAMC,iBAAiB,GAAG,MAAM,MAAOC,QAAP,IAAmB;EACtD,MAAM;IACFC,SAAS,EAAE;MAAEC;IAAF;EADT,IAEAF,QAAQ,EAFd;EAIA,IAAIG,SAAS,GAAG,IAAIC,QAAJ,EAAhB;EACA,IAAIC,IAAI,CAACC,SAAT,EACIH,SAAS,CAACI,MAAV,CAAiB,OAAjB,EAA0BF,IAAI,CAACG,KAA/B,EAAsCH,IAAI,CAACG,KAAL,CAAWC,IAAjD;EACJN,SAAS,CAACI,MAAV,CAAiB,OAAjB,EAA0BF,IAAI,CAACK,KAA/B;EACAP,SAAS,CAACI,MAAV,CAAiB,aAAjB,EAAgCF,IAAI,CAACM,WAArC;EACAR,SAAS,CAACI,MAAV,CAAiB,UAAjB,EAA6BF,IAAI,CAACO,QAAlC;EAKA,MAAMC,MAAM,GAAG;IACfC,OAAO,EAAE;MACL,gBAAgB,qBADX;MAELC,aAAa,EAAG,UAASb,QAAQ,CAACc,KAAM;IAFnC;EADM,CAAf;EASA,MAAMC,UAAU,GAAG,MAAMrB,KAAK,CACzBsB,IADoB,CACd,oBADc,EACOf,SADP,EACkB;IACnCW,OAAO,EAAE;MACL,gBAAgB,qBADX;MAELC,aAAa,EAAG,UAASb,QAAQ,CAACc,KAAM;IAFnC;EAD0B,CADlB,EAMlBG,IANkB,CAMZC,GAAD,IAAS;IACb,OAAOA,GAAP;EACH,CARoB,EAQlBC,KARkB,CAQXC,KAAD,IAAW;IAChB,OAAOA,KAAK,CAACC,QAAb;EACH,CAVoB,CAAzB;;EAYA,IAAIN,UAAU,CAACO,MAAX,KAAsB,GAA1B,EAA+B;IAC3BC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,sBAAqBV,UAAU,CAACZ,IAAX,CAAgBuB,EAAG,EAAhE;EACH;;EACD,OAAOX,UAAP;AAEH,CAzCM"},"metadata":{},"sourceType":"module"}