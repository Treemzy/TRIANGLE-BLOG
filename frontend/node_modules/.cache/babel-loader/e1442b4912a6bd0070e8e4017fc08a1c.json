{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Treemzy\\\\Documents\\\\ReactApps\\\\ReactDjangoBlog\\\\project\\\\frontend\\\\src\\\\screens\\\\CategoryScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigate, useLocation, Link } from \"react-router-dom\";\nimport { LinkContainer } from \"react-router-bootstrap\";\nimport { Table, Button, Row, Col } from \"react-bootstrap\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Loader from \"../components/Loader\";\nimport Message from \"../components/Message\";\nimport { listCategoryPost, deleteCategory } from \"../actions/postActions\";\nimport ConfirmationModal from '../components/ConfirmationModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CategoryScreen() {\n  _s();\n\n  const history = useNavigate();\n  const location = useLocation();\n  const dispatch = useDispatch();\n  const [displayConfirmationModal, setDisplayConfirmationModal] = useState(false);\n  const [message, setMessage] = useState(null);\n  const [catid, setCatid] = useState(null);\n  const listCategory = useSelector(state => state.listCategory);\n  const {\n    error: categoryError,\n    loading: categoryLoading,\n    success: categorySuccess,\n    categories\n  } = listCategory;\n  const userLogin = useSelector(state => state.userLogin);\n  const {\n    userInfo\n  } = userLogin;\n  useEffect(() => {\n    if (!userInfo.isAdmin) {\n      history(\"/login\");\n    } else {\n      dispatch(listCategoryPost());\n    }\n  }, [dispatch, history, userInfo]);\n\n  const showDeleteModal = catid => {\n    setCatid(catid);\n    setMessage(`Are you sure you want to delete this post '${categories.find(x => x._id === catid).name}' ? `);\n    setDisplayConfirmationModal(true);\n  };\n\n  const hideConfirmationModal = () => {\n    setDisplayConfirmationModal(false);\n  };\n\n  const deleteHandler = catid => {\n    dispatch(deleteCategory(catid));\n    setDisplayConfirmationModal(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      className: \"justify-content-md-center\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        className: \"btn-login\",\n        xs: true,\n        lg: \"2\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          className: \"my-3 btn btn-primary\",\n          to: \"/admin/category/create\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-plus\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 19\n          }, this), \" Category\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 12\n    }, this), categoryLoading ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this) : categoryError ? /*#__PURE__*/_jsxDEV(Message, {\n      variant: \"danger\",\n      children: categoryError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this) : /*#__PURE__*/_jsxDEV(Table, {\n      striped: true,\n      bordered: true,\n      hover: true,\n      responsive: true,\n      className: \"table-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"NAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"ACTIONS\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: categories.map(cat => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: cat.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [/*#__PURE__*/_jsxDEV(LinkContainer, {\n              to: `/admin/category/${cat._id}/edit`,\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                className: \"btn-sm\",\n                variant: \"light\",\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-edit\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 81,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"btn-sm\",\n              variant: \"danger\",\n              onClick: () => showDeleteModal(cat._id),\n              children: /*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-trash\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 23\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 21\n          }, this)]\n        }, cat._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmationModal, {\n      variantBtnDel: \"danger\",\n      ModalTitle: \"Confirmation\",\n      showModal: displayConfirmationModal,\n      confirmModal: deleteHandler,\n      hideModal: hideConfirmationModal,\n      catid: catid,\n      message: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CategoryScreen, \"FNfcorLoeLWw4U69Wg334XtFBTE=\", false, function () {\n  return [useNavigate, useLocation, useDispatch, useSelector, useSelector];\n});\n\n_c = CategoryScreen;\nexport default CategoryScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CategoryScreen\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Link","LinkContainer","Table","Button","Row","Col","useDispatch","useSelector","Loader","Message","listCategoryPost","deleteCategory","ConfirmationModal","CategoryScreen","history","location","dispatch","displayConfirmationModal","setDisplayConfirmationModal","message","setMessage","catid","setCatid","listCategory","state","error","categoryError","loading","categoryLoading","success","categorySuccess","categories","userLogin","userInfo","isAdmin","showDeleteModal","find","x","_id","name","hideConfirmationModal","deleteHandler","map","cat"],"sources":["C:/Users/Treemzy/Documents/ReactApps/ReactDjangoBlog/project/frontend/src/screens/CategoryScreen.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useNavigate,useLocation, Link } from \"react-router-dom\";\r\nimport { LinkContainer } from \"react-router-bootstrap\";\r\nimport { Table, Button, Row, Col } from \"react-bootstrap\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport Loader from \"../components/Loader\";\r\nimport Message from \"../components/Message\";\r\nimport { listCategoryPost, deleteCategory } from \"../actions/postActions\";\r\nimport ConfirmationModal from '../components/ConfirmationModal'\r\n\r\nfunction CategoryScreen() {\r\n    const history = useNavigate();\r\n    const location = useLocation();\r\n    const dispatch = useDispatch();\r\n\r\n    const [displayConfirmationModal, setDisplayConfirmationModal] = useState(false);\r\n    const [message, setMessage] = useState(null);\r\n    const [catid, setCatid] = useState(null);\r\n\r\n    const listCategory = useSelector((state) => state.listCategory);\r\n    const { error:categoryError, loading: categoryLoading, success: categorySuccess, categories } = listCategory; \r\n\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { userInfo } = userLogin;\r\n\r\n    useEffect(() => {\r\n        if(!userInfo.isAdmin){\r\n            history(\"/login\")\r\n          }else{\r\n            dispatch(listCategoryPost());\r\n          }        \r\n    },[dispatch, history, userInfo])\r\n    const showDeleteModal = (catid) => {\r\n        setCatid(catid);\r\n        setMessage(`Are you sure you want to delete this post '${categories.find((x) => x._id === catid).name}' ? `);\r\n        setDisplayConfirmationModal(true)\r\n    };\r\n\r\n    const hideConfirmationModal = () => {\r\n        setDisplayConfirmationModal(false);\r\n        \r\n    }\r\n\r\n    const deleteHandler = (catid) => {       \r\n        dispatch(deleteCategory(catid));\r\n        setDisplayConfirmationModal(false);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n           <Row className=\"justify-content-md-center\">\r\n              <Col>\r\n                <h1>Category</h1>\r\n              </Col>\r\n              <Col className=\"btn-login\" xs lg=\"2\">\r\n                <Link className=\"my-3 btn btn-primary\" to=\"/admin/category/create\">\r\n                  <i className=\"fas fa-plus\"></i> Category\r\n                </Link>\r\n              </Col>\r\n            </Row>\r\n          {categoryLoading ? (\r\n            <Loader />\r\n          ) : categoryError ? (\r\n            <Message variant=\"danger\">{categoryError}</Message>\r\n          ) : (\r\n            <Table striped bordered hover responsive className=\"table-sm\">\r\n              <thead>\r\n                <tr>\r\n                  <th>NAME</th>\r\n                  <th>ACTIONS</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {categories.map((cat) => (\r\n                  <tr key={cat._id}>\r\n                    <td>{cat.name}</td>\r\n                    \r\n                    <td>\r\n                      <LinkContainer to={`/admin/category/${cat._id}/edit`}>\r\n                        <Button className=\"btn-sm\" variant=\"light\">\r\n                          <i className=\"fas fa-edit\"></i>\r\n                        </Button>\r\n                      </LinkContainer>\r\n                      <Button\r\n                        className=\"btn-sm\"\r\n                        variant=\"danger\"\r\n                        onClick={() => showDeleteModal(cat._id)}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </Table>\r\n          )}\r\n          <ConfirmationModal variantBtnDel={\"danger\"} ModalTitle={\"Confirmation\"} showModal={displayConfirmationModal} confirmModal={deleteHandler} hideModal={hideConfirmationModal}  catid={catid} message={message}  />\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default CategoryScreen\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}