{"ast":null,"code":"import axiosInstance from \"axios\";\nconst apiSettings = {\n  createMyModelEntry: async data => {\n    let form_data = new FormData();\n    if (data.image) form_data.append(\"image\", data.image, data.image_url.name);\n    form_data.append(\"title\", data.title);\n    form_data.append(\"description\", data.description);\n    form_data.append(\"category\", data.category);\n\n    try {\n      const config = {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      };\n      const {\n        data\n      } = await axios.post('/api/products/upload/', formData, config);\n      setImage(data);\n      setUploading(false);\n    } catch (error) {\n      setUploading(false);\n    }\n  },\n  createListing: async data => {\n    let form_data = new FormData();\n    if (data.image) form_data.append(\"image\", data.image, data.image.name);\n    form_data.append(\"title\", data.title);\n    form_data.append(\"description\", data.description);\n    form_data.append(\"category\", data.category);\n    const myNewModel = await axiosInstance.post(`mymodels/`, form_data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\"\n      }\n    }).then(res => {\n      return res;\n    }).catch(error => {\n      return error.response;\n    });\n\n    if (myNewModel.status === 201) {\n      window.location.href = `/mymodels/${myNewModel.data.id}`;\n    }\n\n    return myNewModel;\n  }\n};\nexport default apiSettings;","map":{"version":3,"names":["axiosInstance","apiSettings","createMyModelEntry","data","form_data","FormData","image","append","image_url","name","title","description","category","config","headers","axios","post","formData","setImage","setUploading","error","createListing","myNewModel","then","res","catch","response","status","window","location","href","id"],"sources":["C:/Users/Treemzy/Documents/ReactApps/ReactDjangoBlog/project/frontend/src/components/Api.js"],"sourcesContent":["import axiosInstance from \"axios\";\r\n\r\nconst apiSettings = {\r\n    createMyModelEntry: async (data) => {\r\n        let form_data = new FormData();\r\n        if (data.image)\r\n            form_data.append(\"image\", data.image, \r\n            data.image_url.name);\r\n        form_data.append(\"title\", data.title);\r\n        form_data.append(\"description\", data.description);\r\n        form_data.append(\"category\", data.category);\r\n\r\n        try{\r\n            const config = {\r\n              headers:{\r\n                'Content-Type': 'multipart/form-data'\r\n              }\r\n            }\r\n            const {data} = await axios.post('/api/products/upload/', formData, config)\r\n            setImage(data)\r\n            setUploading(false)\r\n\r\n        }catch(error){\r\n            setUploading(false)\r\n        }\r\n    \r\n    },\r\n\r\n    createListing: async (data) => {\r\n        let form_data = new FormData();\r\n        if (data.image)\r\n            form_data.append(\"image\", data.image, data.image.name);\r\n        form_data.append(\"title\", data.title);\r\n        form_data.append(\"description\", data.description);\r\n        form_data.append(\"category\", data.category);\r\n\r\n\r\n    const myNewModel = await axiosInstance\r\n            .post(`mymodels/`, form_data, {\r\n                headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                },\r\n            }).then((res) => {\r\n                return res;\r\n            }).catch((error) => {\r\n                return error.response;\r\n            });\r\n\r\n        if (myNewModel.status === 201) {\r\n            window.location.href = `/mymodels/${myNewModel.data.id}`;\r\n        }\r\n        return myNewModel;\r\n    },\r\n\r\n   \r\n};\r\n\r\nexport default apiSettings;"],"mappings":"AAAA,OAAOA,aAAP,MAA0B,OAA1B;AAEA,MAAMC,WAAW,GAAG;EAChBC,kBAAkB,EAAE,MAAOC,IAAP,IAAgB;IAChC,IAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;IACA,IAAIF,IAAI,CAACG,KAAT,EACIF,SAAS,CAACG,MAAV,CAAiB,OAAjB,EAA0BJ,IAAI,CAACG,KAA/B,EACAH,IAAI,CAACK,SAAL,CAAeC,IADf;IAEJL,SAAS,CAACG,MAAV,CAAiB,OAAjB,EAA0BJ,IAAI,CAACO,KAA/B;IACAN,SAAS,CAACG,MAAV,CAAiB,aAAjB,EAAgCJ,IAAI,CAACQ,WAArC;IACAP,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6BJ,IAAI,CAACS,QAAlC;;IAEA,IAAG;MACC,MAAMC,MAAM,GAAG;QACbC,OAAO,EAAC;UACN,gBAAgB;QADV;MADK,CAAf;MAKA,MAAM;QAACX;MAAD,IAAS,MAAMY,KAAK,CAACC,IAAN,CAAW,uBAAX,EAAoCC,QAApC,EAA8CJ,MAA9C,CAArB;MACAK,QAAQ,CAACf,IAAD,CAAR;MACAgB,YAAY,CAAC,KAAD,CAAZ;IAEH,CAVD,CAUC,OAAMC,KAAN,EAAY;MACTD,YAAY,CAAC,KAAD,CAAZ;IACH;EAEJ,CAxBe;EA0BhBE,aAAa,EAAE,MAAOlB,IAAP,IAAgB;IAC3B,IAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;IACA,IAAIF,IAAI,CAACG,KAAT,EACIF,SAAS,CAACG,MAAV,CAAiB,OAAjB,EAA0BJ,IAAI,CAACG,KAA/B,EAAsCH,IAAI,CAACG,KAAL,CAAWG,IAAjD;IACJL,SAAS,CAACG,MAAV,CAAiB,OAAjB,EAA0BJ,IAAI,CAACO,KAA/B;IACAN,SAAS,CAACG,MAAV,CAAiB,aAAjB,EAAgCJ,IAAI,CAACQ,WAArC;IACAP,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6BJ,IAAI,CAACS,QAAlC;IAGJ,MAAMU,UAAU,GAAG,MAAMtB,aAAa,CAC7BgB,IADgB,CACV,WADU,EACEZ,SADF,EACa;MAC1BU,OAAO,EAAE;QACL,gBAAgB;MADX;IADiB,CADb,EAKdS,IALc,CAKRC,GAAD,IAAS;MACb,OAAOA,GAAP;IACH,CAPgB,EAOdC,KAPc,CAOPL,KAAD,IAAW;MAChB,OAAOA,KAAK,CAACM,QAAb;IACH,CATgB,CAAzB;;IAWI,IAAIJ,UAAU,CAACK,MAAX,KAAsB,GAA1B,EAA+B;MAC3BC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,aAAYR,UAAU,CAACnB,IAAX,CAAgB4B,EAAG,EAAvD;IACH;;IACD,OAAOT,UAAP;EACH;AAlDe,CAApB;AAuDA,eAAerB,WAAf"},"metadata":{},"sourceType":"module"}