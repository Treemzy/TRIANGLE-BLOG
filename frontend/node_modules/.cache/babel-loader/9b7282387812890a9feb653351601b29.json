{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useDispatch, useSelector } from \"react-redux\";\nconst apiSettings = {\n  createListing: _s(async (data, getState) => {\n    _s();\n\n    let form_data = new FormData();\n    if (data.image_url) form_data.append(\"image_url\", data.image_url, data.image_url.name);\n    form_data.append(\"title\", data.title);\n    form_data.append(\"description\", data.description);\n    form_data.append(\"category\", data.category);\n    form_data.append(\"start_bid\", data.start_bid);\n    form_data.append(\"is_active\", true);\n    const userLogin = useSelector(state => state.userLogin);\n    const {\n      error,\n      loading,\n      userInfo\n    } = userLogin;\n    const config = {\n      headers: {\n        \"Content-type\": \"multipart/form-data\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    };\n    const myNewModel = await axios.post(`/api/posts/create/`, form_data, {\n      headers: {\n        \"Content-Type\": \"multipart/form-data\",\n        Authorization: `Bearer ${userInfo.token}`\n      }\n    }).then(res => {\n      return res;\n    }).catch(error => {\n      return error.response;\n    });\n\n    if (myNewModel.status === 201) {\n      window.location.href = `//api/posts/create/${myNewModel.data.id}`;\n    }\n\n    return myNewModel;\n  }, \"mZQ3uo20oz+a00LDqywmiSYE2A4=\", false, function () {\n    return [useSelector];\n  })\n};\nexport default apiSettings;","map":{"version":3,"names":["axios","useDispatch","useSelector","apiSettings","createListing","data","getState","form_data","FormData","image_url","append","name","title","description","category","start_bid","userLogin","state","error","loading","userInfo","config","headers","Authorization","token","myNewModel","post","then","res","catch","response","status","window","location","href","id"],"sources":["C:/Users/Treemzy/Documents/ReactApps/ReactDjangoBlog/project/frontend/src/components/Api.js"],"sourcesContent":["import axios from \"axios\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst apiSettings = {\r\n\r\n\r\ncreateListing: async (data, getState) => {\r\n    let form_data = new FormData();\r\n    if (data.image_url)\r\n        form_data.append(\"image_url\", data.image_url, data.image_url.name);\r\n    form_data.append(\"title\", data.title);\r\n    form_data.append(\"description\", data.description);\r\n    form_data.append(\"category\", data.category);\r\n    form_data.append(\"start_bid\", data.start_bid);\r\n    form_data.append(\"is_active\", true);\r\n\r\n    const userLogin = useSelector((state) => state.userLogin);\r\n    const { error, loading, userInfo } = userLogin;\r\n  \r\n      const config = {\r\n        headers: {\r\n          \"Content-type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${userInfo.token}`,\r\n        },\r\n      };\r\n\r\nconst myNewModel = await axios\r\n        .post(`/api/posts/create/`, form_data, {\r\n            headers: {\r\n                \"Content-Type\": \"multipart/form-data\",\r\n                Authorization: `Bearer ${userInfo.token}`,\r\n            },\r\n        }).then((res) => {\r\n            return res;\r\n        }).catch((error) => {\r\n            return error.response;\r\n        });\r\n\r\n    if (myNewModel.status === 201) {\r\n        window.location.href = `//api/posts/create/${myNewModel.data.id}`;\r\n    }\r\n    return myNewModel;\r\n    },\r\n};\r\n\r\nexport default apiSettings"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AAEA,MAAMC,WAAW,GAAG;EAGpBC,aAAa,KAAE,OAAOC,IAAP,EAAaC,QAAb,KAA0B;IAAA;;IACrC,IAAIC,SAAS,GAAG,IAAIC,QAAJ,EAAhB;IACA,IAAIH,IAAI,CAACI,SAAT,EACIF,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8BL,IAAI,CAACI,SAAnC,EAA8CJ,IAAI,CAACI,SAAL,CAAeE,IAA7D;IACJJ,SAAS,CAACG,MAAV,CAAiB,OAAjB,EAA0BL,IAAI,CAACO,KAA/B;IACAL,SAAS,CAACG,MAAV,CAAiB,aAAjB,EAAgCL,IAAI,CAACQ,WAArC;IACAN,SAAS,CAACG,MAAV,CAAiB,UAAjB,EAA6BL,IAAI,CAACS,QAAlC;IACAP,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8BL,IAAI,CAACU,SAAnC;IACAR,SAAS,CAACG,MAAV,CAAiB,WAAjB,EAA8B,IAA9B;IAEA,MAAMM,SAAS,GAAGd,WAAW,CAAEe,KAAD,IAAWA,KAAK,CAACD,SAAlB,CAA7B;IACA,MAAM;MAAEE,KAAF;MAASC,OAAT;MAAkBC;IAAlB,IAA+BJ,SAArC;IAEE,MAAMK,MAAM,GAAG;MACbC,OAAO,EAAE;QACP,gBAAgB,qBADT;QAEPC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM;MAFjC;IADI,CAAf;IAON,MAAMC,UAAU,GAAG,MAAMzB,KAAK,CACrB0B,IADgB,CACV,oBADU,EACWnB,SADX,EACsB;MACnCe,OAAO,EAAE;QACL,gBAAgB,qBADX;QAELC,aAAa,EAAG,UAASH,QAAQ,CAACI,KAAM;MAFnC;IAD0B,CADtB,EAMdG,IANc,CAMRC,GAAD,IAAS;MACb,OAAOA,GAAP;IACH,CARgB,EAQdC,KARc,CAQPX,KAAD,IAAW;MAChB,OAAOA,KAAK,CAACY,QAAb;IACH,CAVgB,CAAzB;;IAYI,IAAIL,UAAU,CAACM,MAAX,KAAsB,GAA1B,EAA+B;MAC3BC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAwB,sBAAqBT,UAAU,CAACpB,IAAX,CAAgB8B,EAAG,EAAhE;IACH;;IACD,OAAOV,UAAP;EACC,CApCQ;IAAA,QAUSvB,WAVT;EAAA;AAHO,CAApB;AA0CA,eAAeC,WAAf"},"metadata":{},"sourceType":"module"}